{% extends "login base.html" %}

{% block title %}Регистрация{% endblock %}

{% block content %}
<div class="register-container">
    <a href="/login" class="back-but btn btn-light">← Назад</a>
    <h2 class="text_reg text-center mb-4">Создать аккаунт</h2>
</div>

<form method="POST" action="{{ url_for('register') }}">
    {{ form.hidden_tag() }}
    <div class="mb-3">
        {{ form.login.label(class="form-label") }}
        {{ form.login(class="form-control", placeholder="Введите логин") }}
        {% for error in form.login.errors %}
            <span class="text-danger">{{ error }}</span>
        {% endfor %}
        {% if nick_error %}
            <span class="text-danger">Логин занят</span>
        {% endif %}
    </div>
    <div class="mb-3">
        {{ form.password.label(class="form-label") }}
        {{ form.password(class="form-control", placeholder="Введите пароль") }}
        {% for error in form.password.errors %}
            <span class="text-danger">{{ error }}</span>
        {% endfor %}
    </div>
    <div class="mb-3">
        {{ form.confirm_password.label(class="form-label") }}
        {{ form.confirm_password(class="form-control", placeholder="Подтвердите пароль") }}
        {% for error in form.confirm_password.errors %}
            <span class="text-danger">{{ error }}</span>
        {% endfor %}
    </div>
    <div class="mb-3">
        {{ form.name.label(class="form-label") }}
        {{ form.name(class="form-control", placeholder="Введите имя") }}
        {% for error in form.name.errors %}
            <span class="text-danger">{{ error }}</span>
        {% endfor %}
    </div>
    <div class="mb-3">
        {{ form.surname.label(class="form-label") }}
        {{ form.surname(class="form-control", placeholder="Введите фамилию") }}
        {% for error in form.surname.errors %}
            <span class="text-danger">{{ error }}</span>
        {% endfor %}
    </div>
    <div class="mb-3">
        {{ form.date_of_birth.label(class="form-label") }}
        {{ form.date_of_birth(class="form-control", type="date", max=true_date) }}
        {% for error in form.date_of_birth.errors %}
            <span class="text-danger">{{ error }}</span>
        {% endfor %}
    </div>
    <div class="mb-3">
        {{ form.sex.label(class="form-label") }}
        {{ form.sex(class="form-select") }}
        {% for error in form.sex.errors %}
            <span class="text-danger">{{ error }}</span>
        {% endfor %}
    </div>
    <div class="d-grid">
        {{ form.submit(class="subbut btn btn-primary") }}
    </div>
</form>
{% endblock %}